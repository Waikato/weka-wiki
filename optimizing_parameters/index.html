
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documention on Weka that can also be found in the manual and the example archive that comes with each Weka download (zip or installer).">
      
      
      
        <link rel="canonical" href="https://github.com/Waikato/weka-wiki/optimizing_parameters/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Optimizing parameters - Weka Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cvparameterselection" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Weka Wiki" class="md-header__button md-logo" aria-label="Weka Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Weka Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Optimizing parameters
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Waikato/weka-wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Weka Wiki" class="md-nav__button md-logo" aria-label="Weka Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Weka Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Waikato/weka-wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../downloading_weka/" class="md-nav__link">
        Downloading and installing Weka
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_help/" class="md-nav__link">
        Getting help
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../citing_weka/" class="md-nav__link">
        Citing Weka
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../literature/" class="md-nav__link">
        Literature
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        History
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../not_so_faq/" class="md-nav__link">
        Not so FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_the_api/" class="md-nav__link">
        Using the API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../extending_weka/" class="md-nav__link">
        Extending Weka
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../formats_and_processing/arff/" class="md-nav__link">
        ARFF Format
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../primer/" class="md-nav__link">
        Primer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../datasets/" class="md-nav__link">
        Datasets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualization_articles/" class="md-nav__link">
        Visualization Articles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../properties_file/" class="md-nav__link">
        Properties File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../packages/" class="md-nav__link">
        Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experimenter/experimenter/" class="md-nav__link">
        Experimenter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cvparameterselection" class="md-nav__link">
    CVParameterSelection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gridsearch" class="md-nav__link">
    GridSearch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multisearch" class="md-nav__link">
    MultiSearch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-weka" class="md-nav__link">
    Auto-WEKA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#downloads" class="md-nav__link">
    Downloads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See also
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    Links
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/Waikato/weka-wiki/edit/master/docs/optimizing_parameters.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Optimizing parameters</h1>

<p>Since finding the optimal parameters for a classifier can be a rather tedious process, Weka offers some ways of automating this process a bit. The following meta-classifiers allow you to optimize some parameters of your base classifier:</p>
<ul>
<li><code>weka.classifiers.meta.CVParameterSelection</code></li>
<li><code>weka.classifiers.meta.GridSearch</code> (only developer version)</li>
<li><code>weka.classifiers.meta.MultiSearch</code> (<a href="https://github.com/fracpete/multisearch-weka-package">external package</a> for 3.7.11+)</li>
<li>Auto-WEKA (<a href="https://www.cs.ubc.ca/labs/beta/Projects/autoweka/">external package</a> package for 3.7.13+)</li>
</ul>
<p>After finding the best possible setup, the meta-classifiers then train an instance of the base classifier with these parameters and use it for subsequent predictions.</p>
<h3 id="cvparameterselection">CVParameterSelection<a class="headerlink" href="#cvparameterselection" title="Permanent link">#</a></h3>
<p>This meta-classifier can optimize over an arbitrary number of parameters, with only one drawback (apart from the obvious explosion of possible parameter combinations): 
one cannot optimize on nested options, only direct options of the base classifier. What does that mean? It means, that you can optimize the <em>C</em> parameter of <code>weka.classifiers.functions.SMO</code>, but not the <em>C</em> of an <code>weka.classifiers.functions.SMO</code> within a <code>weka.classifiers.meta.FilteredClassifier</code>.</p>
<p>Here are a few examples:</p>
<ul>
<li>
<p><strong>J48 and it's confidence interval ("-C")</strong></p>
<ul>
<li>load your dataset in the Explorer</li>
<li>choose <code>weka.classifiers.meta.CVParameterSelection</code> as classifier</li>
<li>select <code>weka.classifiers.trees.J48</code> as base classifier within <code>CVParameterSelection</code></li>
<li>
<p>open the ArrayEditor for <em>CVParameters</em> and enter the following string (and click on <em>Add</em>): <code>C 0.1 0.5 5</code> - This will test the confidence parameter from 0.1 to 0.5 with step size 0.1 (= 5 steps)</p>
</li>
<li>
<p>close dialogs and start the classifier</p>
</li>
<li>you will get output similar to this one, with the best parameters found in bold:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a> Cross-validated Parameter selection.
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a> Classifier: 
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>weka.classifiers.trees.J48
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a> Cross-validation Parameter: 
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>&#39;-C&#39; ranged from 0.1 to 0.5 with 5.0 steps
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a> Classifier Options: 
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>**-C 0.1** -M 2
</code></pre></div>
<ul>
<li><strong>SMO and it's complexity parameter ("-C")</strong><ul>
<li>load your dataset in the Explorer</li>
<li>choose <code>weka.classifiers.meta.CVParameterSelection</code> as classifier</li>
<li>select <code>weka.classifiers.functions.SMO</code> as base classifier within <code>CVParameterSelection</code> and modify its setup if necessary, e.g., RBF kernel</li>
<li>open the ArrayEditor for <em>CVParameters</em> and enter the following string (and click on <em>Add</em>):</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>C 2 8 4</code>
This will test the complexity parameters 2, 4, 6 and 8 (= 4 steps)
    * close dialogs and start the classifier
    * you will get output similar to this one, with the best parameters found in bold:</p>
</blockquote>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a> Cross-validated Parameter selection.
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> Classifier: 
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>weka.classifiers.functions.SMO
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a> Cross-validation Parameter: 
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>&#39;-C&#39; ranged from 2.0 to 8.0 with 4.0 steps
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a> Classifier Options: 
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>**-C 8** -L 0.0010 -P 1.0E-12 -N 0 -V -1 -W 1 -K &quot;weka.classifiers.functions.supportVector.RBFKernel -C 250007 -G 0.01&quot;
</code></pre></div>
* <strong><a href="../lib_svm/">LibSVM</a> and the gamma parameter of the RBF kernel ("-G")</strong>
    * load your dataset in the Explorer
    * choose <code>weka.classifiers.meta.CVParameterSelection</code> as classifier
    * select <code>[weka.classifiers.functions.LibSVM](lib_svm.md)</code> as base classifier within <code>CVParameterSelection</code> and modify its setup if necessary, e.g., RBF kernel
    * open the ArrayEditor for <em>CVParameters</em> and enter the following string (and click on <em>Add</em>):</p>
<blockquote>
<p><code>G 0.01 0.1 10</code>
This will iterate over the gamma parameter, using values from 0.01 to 0.1 (= 10 steps)
    * close dialogs and start the classifier
    * you will get output similar to this one, with the best parameters found in bold:</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a> Cross-validated Parameter selection.
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a> Classifier: 
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>weka.classifiers.functions.LibSVM
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a> Cross-validation Parameter: 
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>&#39;-G&#39; ranged from 0.01 to 0.1 with 10.0 steps
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a> Classifier Options: 
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>**-G 0.09** -S 0 -K 2 -D 3 -R 0.0 -N 0.5 -M 40.0 -C 1.0 -E 0.0010 -P 0.1
</code></pre></div>
<h3 id="gridsearch">GridSearch<a class="headerlink" href="#gridsearch" title="Permanent link">#</a></h3>
<p><code>weka.classifiers.meta.GridSearch</code> is a meta-classifier for exploring 2 parameters, hence the <em>grid</em> in the name. If one turns the log on, the classifier will create output suitable for <a href="http://www.gnuplot.info/">gnuplot</a>, i.e., sections of the log will contain script and data sections. Instead of just using a classifier, one can specify a base classifier <strong>and</strong> a filter, which both of them can be optimized (one parameter each). In contrast to <code>CVParameterSelection</code>, <code>GridSearch</code> is not limited to first-level parameters of the base classifier, since it's using <a href="http://java.sun.com/docs/books/tutorial/javabeans/">Java Beans</a> <a href="http://java.sun.com/docs/books/tutorial/javabeans/introspection/">Introspection</a> and one can specify <em>paths</em> to the properties one wants to optimize. A <em>property</em> here is the string of the parameter displayed in the GenericObjectEditor (generated though Introspection), e.g., <code>bagSizePercent</code> or <code>classifier</code> of <code>weka.classifiers.meta.Bagging</code>.</p>
<p>Due to some important bugfixes, one should obtain a version of Weka &gt;3.5.6 later than 11 Sept 2007.</p>
<p>For each of the two axes, X and Y, one can specify the following parameters:</p>
<ul>
<li><strong>property</strong><blockquote>
<p>The dot-separated path pointing to the property to be optimized. In order to distinguish between paths for the filter or the classifier, one needs to prefix the path either with <code>filter.</code> or <code>classifier.</code> for filter or classifier path respectively.</p>
</blockquote>
</li>
<li><strong>expression</strong><blockquote>
<p>The mathematical expression to generate the value for the property, processed with the <code>weka.core.MathematicalExpression</code> class, which supports the following functions: <code>abs</code>, <code>sqrt</code>, <code>log</code>, <code>exp</code>, <code>sin</code>, <code>cos</code>, <code>tan</code>, <code>rint</code>, <code>floor</code>, <code>pow</code>, <code>ceil</code>. These variables are available in the expression: 
<code>BASE</code>, <code>FROM</code>, <code>TO</code>, <code>STEP</code>, <code>I</code>; with <code>I</code> ranging from <code>FROM</code> to <code>TO</code>.</p>
</blockquote>
</li>
<li><strong>min</strong><blockquote>
<p>The minimum value to start from.</p>
</blockquote>
</li>
<li><strong>max</strong><blockquote>
<p>The maximum value.</p>
</blockquote>
</li>
<li><strong>step</strong><blockquote>
<p>The step size used to get from <em>min</em> to <em>max</em>.</p>
</blockquote>
</li>
<li><strong>base</strong><blockquote>
<p>Used in <code>pow()</code> calculations.</p>
</blockquote>
</li>
</ul>
<p><code>GridSearch</code> can also optimized based on the following measures:</p>
<ul>
<li>Correlation coefficient (= CC)</li>
<li>Root mean squared error (= RMSE)</li>
<li>Root relative squared error (= RRSE)</li>
<li>Mean absolute error (= MAE)</li>
<li>Root absolute error (= RAE)</li>
<li>Combined: 
(1-abs(CC)) + RRSE + RAE</li>
<li>Accuracy (= ACC)</li>
<li>Kappa (= KAP) [only when using Weka packages]</li>
</ul>
<p>Note: 
<em>Correlation coefficient</em> is only available for numeric classes and <em>Accuracy</em> only for nominal ones.</p>
<p>Here are a some examples (taken from the Javadoc of the classifier):</p>
<ul>
<li><strong>Optimizing SMO with RBFKernel (C and gamma)</strong><ul>
<li>Start the Explorer and load your dataset with nominal class.</li>
<li>Set the evaluation to <em>Accuracy</em>.</li>
<li>Set the filter to <code>weka.filters.AllFilter</code> since we don't need any special data processing and we don't optimize the filter in this case (data gets always passed through filter!).</li>
<li>Set <code>weka.classifiers.functions.SMO</code> as classifier with <code>weka.classifiers.functions.supportVector.RBFKernel</code> as kernel.</li>
<li>Set the<code>XProperty</code> to "classifier.c", <code>XMin</code> to "1", <code>XMax</code> to "16", <code>XStep</code> to "1" and the <code>XExpression</code> to "I". This will test the "C" parameter of <code>SMO</code> for the values from 1 to 16.</li>
<li>Set the <code>YProperty</code> to "classifier.kernel.gamma", <code>YMin</code> to "-5", <code>YMax</code> to "2", <code>YStep</code> to "1", <code>YBase</code> to "10" and <code>YExpression</code> to "pow(BASE,I)". This will test the gamma of the RBFKernel with the values 10<sup>-5</sup>, 10<sup>-4</sup>,..,10<sup>2</sup>.</li>
<li>Output will be similar to this one here:</li>
</ul>
</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a> Filter: 
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>weka.filters.AllFilter
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a> Classifier: 
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>weka.classifiers.functions.SMO -C 2.0 -L 0.0010 -P 1.0E-12 -N 0 -V -1 -W 1 -K &quot;weka.classifiers.functions.supportVector.RBFKernel -C 250007 -G 0.0&quot;
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a> X property: 
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>classifier.c
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a> Y property: 
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>classifier.kernel.gamma
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a> Evaluation: 
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>Accuracy
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a> Coordinates: 
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>[2.0, 0.0]
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a> Values: 
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>**2.0** (X coordinate), **1.0** (Y coordinate)
</code></pre></div>
* <strong>Optimizing PLSFilter with LinearRegression (# of components and ridge)</strong> - default setup
    * Start the Explorer and load your dataset with numeric class.
    * Set the evaluation to Correlation coefficient.
    * Set the filter to <code>weka.filters.supervised.attribute.PLSFilter</code>.
    * Set <code>weka.classifiers.functions.LinearRegression</code> as classifier and use <em>no attribute selection</em> and <em>no elimination of colinear attributes</em> (speeds up <code>LinearRegression</code> significantly!).
    * Set the <code>XProperty</code> to "filter.numComponents", <code>XMin</code> to "5", <code>XMax</code> to "20" (this depends heavily on your dataset, should be no more than the number of attributes!), <code>XStep</code> to "1" and <code>XExpression</code> to "I". This will test the number of components the <code>PLSFilter</code> will produce from 5 to 20.
    * Set the <code>YProperty</code> to "classifier.ridge", <code>XMin</code> to "-10", <code>XMax</code> to "5", <code>YStep</code> to "1" and <code>YExpression</code> to "pow(BASE,I)". This will try ridge parameters from 10<sup>-10</sup> to 10<sup>5</sup>.
    * Output will be similar to this one:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a> Filter: 
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>weka.filters.supervised.attribute.PLSFilter -C 5 -M -A PLS1 -P center
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a> Classifier: 
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>weka.classifiers.functions.LinearRegression -S 1 -C -R 5.0
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a> X property: 
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>filter.numComponents
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a> Y property: 
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>classifier.ridge
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a> Evaluation: 
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>Correlation coefficient
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a> Coordinates: 
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>[5.0, 5.0]
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a> Values: 
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>**5.0** (X coordinate), **100000.0** (Y coordinate)
</code></pre></div>
<strong>Notes:</strong></p>
<ul>
<li>a property for the classifier starts with <strong>classifier.</strong></li>
<li>a property for the filter starts with <strong>filter.</strong></li>
<li>Arrays of objects are addressed with <strong>[<index>]</strong>, with the <em>index</em> being 0-based. E.g., using a <code>weka.filters.MultiFilter</code> in <code>GridSearch</code> consisting of a <code>ReplaceMissingValues</code> and a <code>PLSFilter</code> filter one can address the <em>numComponents</em> property of the <code>PLSFilter</code> with <em>filter.filter[1].numComponents</em></li>
</ul>
<h3 id="multisearch">MultiSearch<a class="headerlink" href="#multisearch" title="Permanent link">#</a></h3>
<p><code>weka.classifiers.meta.MultiSearch</code> is available through <a href="https://github.com/fracpete/multisearch-weka-package">this</a> Weka package (requires Weka 3.7.11 or later; for downloads see the <em>Releases</em> section). MultiSearch is similar to GridSearch, more general and simpler at the same time. More general, because it allows the optimization of an arbitrary number of parameters, not just two. Simpler, because it does not offer any search space expansions or <a href="http://gnuplot.info/">gnuplot</a> output and less options.</p>
<p>For each parameter to optimize, the user has to define a <em>search parameter</em>. There are two types of parameters available:</p>
<ul>
<li><code>MathParameter</code> - basically what <code>GridSearch</code> uses, with an expression to calculate the actual value using the min, max and step parameters</li>
<li><code>ListParameter</code> - the blank-separated list of values is used as input for the optimization (useful, if values cannot be described by a mathematical function)</li>
</ul>
<p>Here is a setup for finding the best ridge parameter (property <code>classifier.ridge</code>) using the <code>MathParameter</code> search parameter using values from 10^-10 to 10^5:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>weka.classifiers.meta.MultiSearch \
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  -E CC \
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>  -search &quot;weka.core.setupgenerator.MathParameter -property classifier.ridge -min -10.0 -max 5.0 -step 1.0 -base 10.0 -expression pow(BASE,I)&quot; \
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>  -sample-size 100.0 -initial-folds 2 -subsequent-folds 10 -num-slots 1 -S 1 \
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>  -W weka.classifiers.functions.LinearRegression -- -S 1 -C -R 1.0E-8
</code></pre></div>
<p>And here using the <code>ListParameter</code> search parameter for evaluating values 0.001, 0.05, 0.1, 0.5, 0.75 and 1.0 for the ridge parameter (property <code>classifier.ridge</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>weka.classifiers.meta.MultiSearch \
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  -E CC \
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  -search &quot;weka.core.setupgenerator.ListParameter -property classifier.ridge -list \&quot;0.001 0.05 0.1 0.5 0.75 1.0\&quot;&quot; \
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>  -sample-size 100.0 -initial-folds 2 -subsequent-folds 10 -num-slots 1 -S 1 \
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>  -W weka.classifiers.functions.LinearRegression -- -S 1 -C -R 1.0E-8
</code></pre></div>
<p><code>MultiSearch</code> can be optimized based on the following measures:</p>
<ul>
<li>Correlation coefficient (= CC)</li>
<li>Root mean squared error (= RMSE)</li>
<li>Root relative squared error (= RRSE)</li>
<li>Mean absolute error (= MAE)</li>
<li>Root absolute error (= RAE)</li>
<li>Combined: 
(1-abs(CC)) + RRSE + RAE</li>
<li>Accuracy (= ACC)</li>
<li>Kappa (= KAP)</li>
</ul>
<h3 id="auto-weka">Auto-WEKA<a class="headerlink" href="#auto-weka" title="Permanent link">#</a></h3>
<p><a href="https://www.cs.ubc.ca/labs/beta/Projects/autoweka/">Auto-WEKA</a> is available as a package through the WEKA package manager. It provides the class <code>weka.classifiers.meta.AutoWEKAClassifier</code> and optimizes all parameters of all learners. It also automatically determines the best learner to use and the best attribute selection method for a given dataset. More information is available on the project website and the <a href="https://www.cs.ubc.ca/labs/beta/Projects/autoweka/manual.pdf">manual</a>.</p>
<h3 id="downloads">Downloads<a class="headerlink" href="#downloads" title="Permanent link">#</a></h3>
<ul>
<li><a href="../files/CVParam.java">CVParam.java</a> - optimizes J48's <code>-C</code> parameter</li>
</ul>
<h3 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">#</a></h3>
<ul>
<li><a href="../lib_svm/">LibSVM</a> - you need additional jars in your <a href="../classpath/">CLASSPATH</a> to be able to use LibSVM</li>
</ul>
<h3 id="links">Links<a class="headerlink" href="#links" title="Permanent link">#</a></h3>
<ul>
<li><a href="http://www.gnuplot.info/">gnuplot homepage</a></li>
<li><a href="http://java.sun.com/docs/books/tutorial/javabeans/">Java Beans</a></li>
<li><a href="http://java.sun.com/docs/books/tutorial/javabeans/introspection/">Introspection</a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>