
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documention on Weka that can also be found in the manual and the example archive that comes with each Weka download (zip or installer).">
      
      
      
        <link rel="canonical" href="https://github.com/Waikato/weka-wiki/using_cluster_algorithms/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Using cluster algorithms - Weka Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#commandline" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Weka Wiki" class="md-header__button md-logo" aria-label="Weka Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Weka Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using cluster algorithms
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Waikato/weka-wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Weka Wiki" class="md-nav__button md-logo" aria-label="Weka Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Weka Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Waikato/weka-wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../downloading_weka/" class="md-nav__link">
        Downloading and installing Weka
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_help/" class="md-nav__link">
        Getting help
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../citing_weka/" class="md-nav__link">
        Citing Weka
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../literature/" class="md-nav__link">
        Literature
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        History
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../not_so_faq/" class="md-nav__link">
        Not so FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_the_api/" class="md-nav__link">
        Using the API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../extending_weka/" class="md-nav__link">
        Extending Weka
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../formats_and_processing/arff/" class="md-nav__link">
        ARFF Format
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../primer/" class="md-nav__link">
        Primer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../datasets/" class="md-nav__link">
        Datasets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualization_articles/" class="md-nav__link">
        Visualization Articles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../properties_file/" class="md-nav__link">
        Properties File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../packages/" class="md-nav__link">
        Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experimenter/experimenter/" class="md-nav__link">
        Experimenter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#commandline" class="md-nav__link">
    Commandline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filters" class="md-nav__link">
    Filters
  </a>
  
    <nav class="md-nav" aria-label="Filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#addcluster" class="md-nav__link">
    AddCluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clustermembership" class="md-nav__link">
    ClusterMembership
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classifiers" class="md-nav__link">
    Classifiers
  </a>
  
    <nav class="md-nav" aria-label="Classifiers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classificationviaclustering" class="md-nav__link">
    ClassificationViaClustering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    Notes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See also
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/Waikato/weka-wiki/edit/master/docs/using_cluster_algorithms.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Using cluster algorithms</h1>

<p>This article discusses the use of cluster schemes in Weka from the commandline. This functionality is, of course, also available from the GUI, namely the Explorer and the KnowledgeFlow.</p>
<h3 id="commandline">Commandline<a class="headerlink" href="#commandline" title="Permanent link">#</a></h3>
<p>Clusterers can be used in a similar fashion Weka's classifiers:</p>
<ul>
<li><code>-t &lt;file&gt;</code><blockquote>
<p>specifies the training file</p>
</blockquote>
</li>
<li><code>-T &lt;file&gt;</code><blockquote>
<p>specifies the test file</p>
</blockquote>
</li>
<li><code>-p &lt;attribute range&gt;</code><blockquote>
<p>for outputting predictions (if a test file is present, then for this one, otherwise the train file)</p>
</blockquote>
</li>
<li><code>-c &lt;index&gt;</code><blockquote>
<p>performs a <em>classes to clusters</em> evaluation (during training, the class attribute will be automatically ignored)</p>
</blockquote>
</li>
<li><code>-x &lt;folds&gt;</code><blockquote>
<p>performs cross-validation for density-based clusterers (no <em>classes to clusters</em> evaluation possible!). With <code>weka.clusterers.MakeDensityBasedClusterer</code>, any clusterer can be turned into a density-based one.</p>
</blockquote>
</li>
<li><code>-d &lt;file&gt; and -l &lt;file&gt;</code><blockquote>
<p>for saving and loading <a href="../serialization/">serialized models</a></p>
</blockquote>
</li>
</ul>
<p>Some examples:</p>
<ul>
<li><code>EM</code> with train and test file:</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="w"> </span>java<span class="w"> </span>weka.clusterers.EM<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span>-I<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="se">\ </span><span class="w">            </span><span class="c1"># only 10 iterations</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span>-t<span class="w"> </span>train.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span>-T<span class="w"> </span>test.arff
</code></pre></div>
* <code>SimpleKMeans</code> with <em>classes to clusters</em> evaluation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w"> </span>java<span class="w"> </span>weka.clusterers.SimpleKMeans<span class="w"> </span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">   </span>-t<span class="w"> </span>train.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">   </span>-c<span class="w"> </span>last<span class="w">             </span><span class="c1"># the class attribute is the last</span>
</code></pre></div>
<blockquote>
<p>Sample output:</p>
</blockquote>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a> ...
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a> Class attribute: 
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>class
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a> Classes to Clusters:
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    0   1  &lt;-- assigned to cluster
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>  242 442 | 3
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>   22  77 | 2
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a> Cluster 0 &lt;-- 2
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a> Cluster 1 &lt;-- 3
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a> Incorrectly clustered instances : 
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>      319.0    40.7407 %
</code></pre></div>
* running 2-fold cross-validation on <code>SimpleKMeans</code> (we need to use <code>MakeDensityBasedClusterer</code>, since <code>SimpleKMeans</code> is no density-based clusterer!):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w"> </span>java<span class="w"> </span>weka.clusterers.MakeDensityBasedClusterer<span class="w"> </span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span>-W<span class="w"> </span>weka.clusterers.SimpleKMeans<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span>-t<span class="w"> </span>train.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span>-x<span class="w"> </span><span class="m">2</span><span class="w">                </span><span class="c1"># 2 folds</span>
</code></pre></div>
<blockquote>
<p>Sample output:</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a> ...
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a> 2 fold CV Log Likelihood: 
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>-40.9751
</code></pre></div>
<h3 id="filters">Filters<a class="headerlink" href="#filters" title="Permanent link">#</a></h3>
<p>Weka contains some filters that make life easier with the cluster algorithms.</p>
<h4 id="addcluster">AddCluster<a class="headerlink" href="#addcluster" title="Permanent link">#</a></h4>
<p>The filter <code>weka.filters.unsupervised.attribute.AddCluster</code> adds the cluster number as nominal attribute to the data processed by the filter. This makes the post-processing or analyzing of the cluster assignments easier than with the <code>-p X</code> option.</p>
<p>Here's an example for the UCI <a href="../datasets/">dataset</a> <em>anneal</em> using <code>SimpleKMeans</code>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w"> </span>java<span class="w"> </span>weka.filters.unsupervised.attribute.AddCluster<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span>-W<span class="w"> </span><span class="s2">&quot;weka.clusterers.SimpleKMeans -N 6 -S 42&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span>-I<span class="w"> </span>last<span class="w"> </span><span class="se">\ </span><span class="w">                </span><span class="c1"># we want to ignore the class attribute</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span>-i<span class="w"> </span>anneal.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span>-o<span class="w"> </span>out.arff
</code></pre></div>
And some example output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a> @relation ...
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a> @attribute family {&#39;?&#39;,GB,GK,GS,TN,ZA,ZF,ZH,ZM,ZS}
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a> @attribute product-type {C,H,G}
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a> ...
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a> @attribute class {1,2,3,4,5,U}
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a> @attribute cluster {cluster1,cluster2,cluster3,cluster4,cluster5,cluster6}
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a> @data
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a> &#39;?&#39;,C,A,8,0,&#39;?&#39;,S,&#39;?&#39;,0,&#39;?&#39;,&#39;?&#39;,G,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,COIL,0.7,610,0,&#39;?&#39;,0,&#39;?&#39;,3,cluster2
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a> &#39;?&#39;,C,R,0,0,&#39;?&#39;,S,2,0,&#39;?&#39;,&#39;?&#39;,E,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,Y,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,COIL,3.2,610,0,&#39;?&#39;,0,&#39;?&#39;,3,cluster2
</code></pre></div>
<h4 id="clustermembership">ClusterMembership<a class="headerlink" href="#clustermembership" title="Permanent link">#</a></h4>
<p>If you're more interested in the probability for each each cluster an instance gets assigned, you can use the filter <code>weka.filters.unsupervised.attribute.ClusterMembership</code>.</p>
<p>Here's an example for the UCI <a href="../datasets/">dataset</a> <em>anneal</em> using <code>EM</code>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w"> </span>java<span class="w"> </span>weka.filters.unsupervised.attribute.ClusterMembership<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span>-W<span class="w"> </span>weka.clusterers.EM<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span>-I<span class="w"> </span>last<span class="w"> </span><span class="se">\ </span><span class="w">                </span><span class="c1"># we want to ignore the class attribute</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span>-i<span class="w"> </span>anneal.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span>-o<span class="w"> </span>out.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span>--<span class="w"> </span><span class="se">\ </span><span class="w">                     </span><span class="c1"># additional options for EM follow after the --</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span>-I<span class="w"> </span><span class="m">10</span>
</code></pre></div>
And some example output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a> @relation ...
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a> @attribute pCluster_0_0 numeric
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a> @attribute pCluster_0_1 numeric
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a> @attribute pCluster_0_2 numeric
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a> @attribute pCluster_0_3 numeric
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a> @attribute pCluster_0_4 numeric
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a> @attribute pCluster_0_5 numeric
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a> @data
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a> 0.000147,0.009863,0,0.98999,0.000001,0
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a> 0.00292,0.000002,0,0.997078,0,0
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a> ...
</code></pre></div>
<h3 id="classifiers">Classifiers<a class="headerlink" href="#classifiers" title="Permanent link">#</a></h3>
<h4 id="classificationviaclustering">ClassificationViaClustering<a class="headerlink" href="#classificationviaclustering" title="Permanent link">#</a></h4>
<p>A new meta-classifier, <code>weka.classifiers.meta.ClassificationViaClustering</code>, got introduced in the developer version (&gt;3.5.6), which mimics the <em>clusters to classes</em> functionality of the <code>weka.core.ClusterEvaluation</code> class. A user defined cluster algorithm is built with the training data presented to the meta-classifier (after the class attribute got removed, of course) and then the mapping between classes and clusters is determined. This mapping is then used for predicting class labels of unseen instances.</p>
<p>Here's an example for the UCI <a href="../datasets/">dataset</a> <em>balance-scale</em>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="w"> </span>java<span class="w"> </span>weka.classifiers.meta.ClassificationViaClustering<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span>-t<span class="w"> </span>balance-scale.arff<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span>-W<span class="w"> </span>weka.clusterers.SimpleKMeans<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span>--<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span>-N<span class="w"> </span><span class="m">3</span><span class="w">           </span><span class="c1"># additional parameters for SimpleKMeans, since the dataset has 3 class labels</span>
</code></pre></div>
And some sample output:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a> ...
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a> Clusters to classes mapping:
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>   1. Cluster: 
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>B (2)
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>   2. Cluster: 
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>R (3)
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>   3. Cluster: 
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>L (1)
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a> Classes to clusters mapping:
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>   1. Class (L): 
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>3. Cluster
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>   2. Class (B): 
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>1. Cluster
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>   3. Class (R): 
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>2. Cluster
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a> ...
</code></pre></div>
<strong>Note:</strong> In order to obtain a useful model, you have to make sure that the cluster algorithms are properly setup for the dataset you are using. E.g., <code>SimpleKMeans</code> has a fixed number of clusters that it should determine. Trying to determine 2 clusters on a dataset with 5 class labels isn't very useful.</p>
<h3 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">#</a></h3>
<ul>
<li>All examples are for a Linux bash. For Windows or the SimplCLI, just remove the backslashes and collapse all the lines into a single one.</li>
<li>Comments in the examples follow a <strong>#</strong> and need to be removed, of course.</li>
<li><strong>...</strong> denotes an omission of unnecessary content.</li>
</ul>
<h3 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">#</a></h3>
<ul>
<li><a href="../use_weka_in_your_java_code/">Use Weka in your Java code</a>, section <em>Clustering</em> explains using the Weka API for clusterers</li>
<li><a href="../batch_filtering/">Batch filtering</a> - shows how to use filters in batch mode</li>
<li><a href="../serialization/">Serialization</a> - for using serialized/saved models</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>